ASA Version 9.6(1)
!
hostname ASA-FW1
domain-name company.local
names
!
interface GigabitEthernet1/1
 nameif outside
 security-level 0
 ip address 203.0.113.6 255.255.255.252
!
interface GigabitEthernet1/2
 nameif dmz
 security-level 50
 ip address 10.10.100.1 255.255.255.0
!
interface GigabitEthernet1/3
 nameif inside1
 security-level 100
 ip address 192.168.1.1 255.255.255.0
!
interface GigabitEthernet1/4
 nameif inside2
 security-level 100
 ip address 192.168.2.1 255.255.255.0
!
interface GigabitEthernet1/5
 no nameif
 no security-level
 no ip address
 shutdown
!
interface GigabitEthernet1/6
 no nameif
 no security-level
 no ip address
 shutdown
!
interface GigabitEthernet1/7
 no nameif
 no security-level
 no ip address
 shutdown
!
interface GigabitEthernet1/8
 no nameif
 no security-level
 no ip address
 shutdown
!
interface Management1/1
 management-only
 no nameif
 no security-level
 no ip address
 shutdown
!
object network CORESWITCH1-NETWORK
 subnet 192.168.1.0 255.255.255.0
 description CoreSwitch1 Transit Network
object network CORESWITCH2-NETWORK
 subnet 192.168.2.0 255.255.255.0
 description CoreSwitch2 Transit Network#
object network DMZ-VLAN100
 subnet 10.10.100.0 255.255.255.0
 nat (dmz,outside) dynamic interface
 description DMZ Servers Network
object network INSIDE-NET
 subnet 192.168.0.0 255.255.0.0
 nat (inside2,outside) dynamic interface
object network IT-VLAN20
 subnet 192.168.20.0 255.255.255.224
 nat (inside1,outside) dynamic interface
 description IT Department Network
object network MRKT-VLAN40
 subnet 192.168.40.0 255.255.255.128
 nat (inside1,outside) dynamic interface
 description Marketing Department Network
object network RH-VLAN30
 subnet 192.168.30.0 255.255.255.192
 nat (inside1,outside) dynamic interface
 description RH Department Network
object network SALES-VLAN50
 subnet 192.168.50.0 255.255.255.128
 nat (inside1,outside) dynamic interface
 description Sales Department Network
!
route outside 0.0.0.0 0.0.0.0 203.0.113.5 1
route inside2 192.168.30.0 255.255.255.192 192.168.1.2 1
route inside2 192.168.40.0 255.255.255.128 192.168.1.2 1
route inside2 192.168.50.0 255.255.255.128 192.168.1.2 1
route inside1 192.168.20.0 255.255.255.224 192.168.1.2 1
route inside1 192.168.30.0 255.255.255.192 192.168.1.2 1
route inside1 192.168.40.0 255.255.255.128 192.168.1.2 1
route inside1 192.168.50.0 255.255.255.128 192.168.1.2 1
route inside2 192.168.20.0 255.255.255.224 192.168.2.2 2
route inside2 192.168.30.0 255.255.255.192 192.168.2.2 2
route inside2 192.168.40.0 255.255.255.128 192.168.2.2 2
route inside2 192.168.50.0 255.255.255.128 192.168.2.2 2
!
access-list INSIDE-OUT extended permit ip 192.168.0.0 255.255.0.0 any
access-list INSIDE-OUT extended permit icmp any any
access-list INSIDE-DMZ extended permit tcp 192.168.0.0 255.255.0.0 10.10.100.0 255.255.255.0 eq www
access-list INSIDE-DMZ extended permit tcp 192.168.0.0 255.255.0.0 10.10.100.0 255.255.255.0 eq 443
access-list INSIDE-DMZ extended permit tcp 192.168.0.0 255.255.0.0 10.10.100.0 255.255.255.0 eq ftp
access-list INSIDE-DMZ extended permit tcp 192.168.0.0 255.255.0.0 10.10.100.0 255.255.255.0 eq 22
access-list INSIDE-DMZ extended permit icmp any any
access-list DMZ-OUT extended permit ip 10.10.100.0 255.255.255.0 any
access-list OUTSIDE-DMZ extended permit tcp any host 10.10.100.10 eq www
access-list OUTSIDE-DMZ extended permit tcp any host 10.10.100.10 eq 443
access-list INSIDE1-IN extended permit ip object IT-VLAN20 object DMZ-VLAN100
access-list INSIDE1-IN extended permit ip object RH-VLAN30 object DMZ-VLAN100
access-list INSIDE1-IN extended permit ip object MRKT-VLAN40 object DMZ-VLAN100
access-list INSIDE1-IN extended permit ip object SALES-VLAN50 object DMZ-VLAN100
access-list INSIDE1-IN extended permit icmp any any
access-list INSIDE2-IN extended permit ip object IT-VLAN20 object DMZ-VLAN100
access-list INSIDE2-IN extended permit ip object RH-VLAN30 object DMZ-VLAN100
access-list INSIDE2-IN extended permit ip object MRKT-VLAN40 object DMZ-VLAN100
access-list INSIDE2-IN extended permit ip object SALES-VLAN50 object DMZ-VLAN100
access-list INSIDE2-IN extended permit icmp any any
access-list DMZ-IN extended permit icmp any any
access-list HTTP-PERMIT extended permit tcp host 10.10.100.10 eq www object IT-VLAN20 gt 1023
access-list HTTP-PERMIT extended permit icmp host 10.10.100.10 object IT-VLAN20 echo-reply
access-list IT-ACCESS extended permit ip object IT-VLAN20 object DMZ-VLAN100
!
!
access-group INSIDE2-IN in interface inside2
access-group OUTSIDE-DMZ in interface outside
!
!
class-map inspection_default
 match default-inspection-traffic
!
policy-map type inspect dns preset_dns_map
 parameters
  message-length maximum 512
policy-map global_policy
 class inspection_default
  inspect dns preset_dns_map
  inspect ftp 
  inspect http 
  inspect icmp 
  inspect tftp 
policy-map global-policy
 class inspection_default
  inspect http 
!
service-policy global_policy global
!
telnet timeout 5
ssh timeout 5
!
dhcpd address 10.10.100.50-10.10.100.100 dmz
dhcpd dns 8.8.8.8 interface dmz
dhcpd enable dmz
!
!
!
!